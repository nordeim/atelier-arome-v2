# Documentation Update Plan: Phase 8 Completion

**Files to Update:** AGENT.md, CLAUDE.md, README.md  
**Purpose:** Align documentation with Phase 8 Cart System Integration completion.

---

## Gap Analysis

### Current State in Documentation

| Item | Current Value | Should Be |
|------|---------------|-----------|
| Status Badge (README) | `Phase_7.1_PDP_Complete` | `Phase_8_Cart_Complete` |
| Project Status (AGENT) | `Phase 7.1 Complete ✅ → Phase 8 Ready ⏳` | `Phase 8 Complete ✅` |
| Phase 8 Roadmap | `⏳ Upcoming` | `✅ Complete` |
| Hooks Count | 6 hooks | 7 hooks (added [use-cart.ts](file:///home/project/atelier-arome/atelier-arome-web/src/hooks/use-cart.ts)) |
| Cart Components | [vial-drawer.tsx](file:///home/project/atelier-arome/atelier-arome-web/src/components/cart/vial-drawer.tsx) only | 3 files: `vial-drawer`, `cart-item`, `cart-loading` |
| Providers | Not mentioned | [providers.tsx](file:///home/project/atelier-arome/atelier-arome-web/src/components/providers/providers.tsx) added |

---

## Proposed Changes

### [MODIFY] README.md

**1. Status Badge (Line 13)**
```diff
-[![Status](https://img.shields.io/badge/Status-Phase_7.1_PDP_Complete-brightgreen?style=for-the-badge)](MASTER_EXECUTION_PLAN.md)
+[![Status](https://img.shields.io/badge/Status-Phase_8_Cart_Complete-brightgreen?style=for-the-badge)](MASTER_EXECUTION_PLAN.md)
```

**2. Roadmap Current Status (Line ~1157)**
```diff
-### Current Status: Phase 7.1 Complete (Product Detail Page) ✅
+### Current Status: Phase 8 Complete (Cart System Integration) ✅
```

**3. Roadmap Checklist (Add after Line ~1191)**
```markdown
- [x] **Phase 8 - Cart System Integration** (January 10, 2026):
  - [x] Cart API types in `types/api.ts`
  - [x] Cart API client methods with session ID
  - [x] TanStack Query hooks with optimistic updates
  - [x] VialDrawer refactored with Shadcn Sheet
  - [x] GST (9%) breakdown in cart footer
  - [x] CartItem atomic component with Gold Leaf ornaments
  - [x] CartLoading skeleton component
  - [x] QueryClientProvider integration
```

**4. Phase Table (Line ~1204)**
```diff
-| 8 | Cart System | 5 days | ⏳ Upcoming |
+| 8 | Cart System Integration | 5 days | ✅ Complete |
```

**5. Component Architecture (Line ~280-294) - Add cart components**
```diff
 └── catalog/detail/         # PDP Atoms (Phase 7.1)
     ├── variant-selector.tsx
     ├── quantity-adjuster.tsx
     ├── image-gallery.tsx
     └── alchemical-properties.tsx

+Cart Components (Phase 8)
+├── vial-drawer.tsx          # Refactored: Shadcn Sheet + TanStack Query
+├── cart-item.tsx            # Atomic: item with quantity controls
+└── cart-loading.tsx         # Skeleton loading state
```

**Checklist:**
- [ ] Update status badge to Phase 8
- [ ] Update Current Status heading
- [ ] Add Phase 8 checklist items
- [ ] Update Phase 8 row in table from ⏳ to ✅
- [ ] Add Cart components to Component Architecture

---

### [MODIFY] AGENT.md

**1. Current Status (Line 84)**
```diff
-**Current Status:** Phase 7.1 Complete (Product Detail Page) ✅ (January 10, 2026)
+**Current Status:** Phase 8 Complete (Cart System Integration) ✅ (January 10, 2026)
```

**2. Component Architecture - Cart Section (Line ~113-114)**
```diff
-├── cart/                      # Cart components (Phase 8)
-│   └── vial-drawer.tsx        # Cart drawer with checkout
+├── cart/                      # Cart components (Phase 8) ✅
+│   ├── vial-drawer.tsx        # Refactored: Shadcn Sheet + TanStack Query
+│   ├── cart-item.tsx          # Atomic cart item with Gold Leaf ornaments
+│   └── cart-loading.tsx       # Skeleton loading state
```

**3. Hooks Section (Line ~127-133) - Add use-cart**
```diff
 src/hooks/                     # Custom React hooks
 ├── index.ts                   # Barrel export
 ├── use-scroll.ts              # useSyncExternalStore for scroll
 ├── use-intersection.ts        # IntersectionObserver wrapper
 ├── use-reduced-motion.ts      # Reduced motion detection
 ├── use-products.ts            # TanStack Query hook for products
-└── use-product-detail.ts      # Hook for fetching single product
+├── use-product-detail.ts      # Hook for fetching single product
+└── use-cart.ts                # Cart operations with optimistic updates (Phase 8)
```

**4. Lib Section (Line ~139-142) - Update api-client**
```diff
 src/lib/                       # Utilities
 ├── utils.ts                   # cn() class merger
 ├── a11y.ts                    # Accessibility helpers
-└── api-client.ts              # Fetch API client
+└── api-client.ts              # Fetch API client + Cart API methods (Phase 8)
```

**5. Project Status Footer (Line ~262)**
```diff
-**Project Status:** Phase 7.1 Complete ✅ → Phase 8 Ready ⏳
+**Project Status:** Phase 8 Complete ✅ → Phase 9 Ready ⏳
```

**Checklist:**
- [ ] Update Current Status line
- [ ] Expand cart/ component listing
- [ ] Add use-cart.ts to hooks
- [ ] Update api-client.ts description
- [ ] Update footer project status

---

### [MODIFY] CLAUDE.md

**1. Current Status (Line 84)**
```diff
-**Current Status:** Phase 7.1 Complete (Product Detail Page) ✅ → Phase 8 (Cart System Integration)
+**Current Status:** Phase 8 Complete (Cart System Integration) ✅ → Phase 9 (Checkout Flow)
```

**2. Frontend Table - Update hooks count (Line 108)**
```diff
-| **Custom Hooks** | ✅ **6 hooks** | use-scroll, use-intersection, use-reduced-motion, use-products, use-product-detail |
+| **Custom Hooks** | ✅ **7 hooks** | use-scroll, use-intersection, use-reduced-motion, use-products, use-product-detail, use-cart |
```

**3. Phase 7.1 Section → Add Phase 8 Section (After Line 127)**
```markdown
### Phase 8 Complete ✅

**Phase 8 Features Completed:**
- ✅ **Cart API Integration** — TanStack Query hooks with optimistic updates
- ✅ **VialDrawer Refactor** — Shadcn Sheet with API sync
- ✅ **GST Display** — 9% breakdown in cart footer
- ✅ **Session ID** — Guest cart tracking via localStorage
- ✅ **CartItem Atomic** — Item card with quantity controls
- ✅ **CartLoading Skeleton** — Shimmer loading state
- ✅ **Providers Wrapper** — QueryClientProvider in layout

**Immediate Next Steps (Phase 9):**
1. **Multi-step Checkout** — Address, shipping, payment flow
2. **Form Validation** — React Hook Form + Zod
3. **Payment Integration** — Stripe + PayNow
```

**4. Component Architecture - Cart Section (Line ~155-156)**
```diff
-├── cart/                      # Cart components (Phase 8)
-│   └── vial-drawer.tsx        # Cart drawer with checkout
+├── cart/                      # Cart components (Phase 8) ✅
+│   ├── vial-drawer.tsx        # Shadcn Sheet + TanStack Query hooks
+│   ├── cart-item.tsx          # Atomic item with Gold Leaf ornaments
+│   └── cart-loading.tsx       # Skeleton loading state
+├── providers/                 # React context providers
+│   └── providers.tsx          # QueryClientProvider wrapper
```

**5. Hooks Section (Line ~169-175)**
```diff
 src/hooks/                     # Custom React hooks
 ├── index.ts                   # Barrel export
 ├── use-scroll.ts              # useSyncExternalStore for scroll
 ├── use-intersection.ts        # IntersectionObserver wrapper
 ├── use-reduced-motion.ts      # Reduced motion detection
 ├── use-products.ts            # TanStack Query hook for products
-└── use-product-detail.ts      # Hook for fetching single product
+├── use-product-detail.ts      # Hook for fetching single product
+└── use-cart.ts                # Cart mutations with optimistic updates
```

**Checklist:**
- [ ] Update Current Status line
- [ ] Update hooks count to 7
- [ ] Add Phase 8 Complete section
- [ ] Expand cart/ component listing
- [ ] Add providers/ directory
- [ ] Add use-cart.ts to hooks

---

## Summary

| File | Changes |
|------|---------|
| README.md | 5 changes |
| AGENT.md | 5 changes |
| CLAUDE.md | 6 changes |
| **Total** | **16 changes** |

---

## Verification

After updates:
- [ ] All status badges show Phase 8 Complete
- [ ] Hook counts are accurate (7 hooks)
- [ ] Cart components fully listed (3 files)
- [ ] Phase table shows Phase 8 ✅ Complete
- [ ] Next steps reference Phase 9 (Checkout Flow)
