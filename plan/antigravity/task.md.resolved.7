# JavaScript Feature Port - Task List

## Phase 1: Custom Hooks Foundation
- [ ] **1.1** Create `src/hooks/` directory
- [ ] **1.2** Create `use-scroll.ts` (scroll position, isScrolled, activeSection)
- [ ] **1.3** Create `use-intersection.ts` (IntersectionObserver wrapper)
- [ ] **1.4** Create `use-reduced-motion.ts` (motion preference detection)

## Phase 2: Toast Notification System
- [ ] **2.1** Create `src/stores/toast-store.ts` (Zustand store)
- [ ] **2.2** Create `src/components/ui/toast.tsx` (Toast component)
- [ ] **2.3** Add ToastProvider to layout

## Phase 3: Header Scroll Effects
- [ ] **3.1** Update [header.tsx](file:///home/project/atelier-arome/atelier-arome-web/src/components/layout/header.tsx) with useScroll hook
- [ ] **3.2** Add `.scrolled` class toggle on scroll
- [ ] **3.3** Add smooth scroll to nav links
- [ ] **3.4** Verify header shadow appears on scroll

## Phase 4: Vial Drawer (Cart)
- [ ] **4.1** Create `src/components/cart/vial-drawer.tsx`
- [ ] **4.2** Implement cart item list with quantity controls
- [ ] **4.3** Add empty state
- [ ] **4.4** Connect header cart button to drawer
- [ ] **4.5** Add keyboard (Escape) close
- [ ] **4.6** Verify drawer opens/closes correctly

## Phase 5: Scroll Animations
- [ ] **5.1** Create `src/components/ui/animate-in-view.tsx`
- [ ] **5.2** Wrap essence cards with AnimateInView
- [ ] **5.3** Wrap alchemy steps with AnimateInView
- [ ] **5.4** Wrap manuscript entries with AnimateInView
- [ ] **5.5** Verify elements animate on scroll into view

## Phase 6: Form Validation & Accessibility
- [ ] **6.1** Create `src/lib/a11y.ts` (screen reader announcements)
- [ ] **6.2** Add email validation to correspondence form
- [ ] **6.3** Add error state styling
- [ ] **6.4** Add loading state on submit
- [ ] **6.5** Show success toast on submission

## Final Verification
- [ ] Run `npm run build` - no errors
- [ ] Test header scroll effect
- [ ] Test toast notifications
- [ ] Test vial drawer
- [ ] Test scroll animations
- [ ] Test form validation
- [ ] Test reduced motion preference
